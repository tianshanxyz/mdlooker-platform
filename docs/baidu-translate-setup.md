# 百度翻译开放平台申请指南

## 概述

百度翻译开放平台提供**免费的标准版**服务，每月5万字符免费额度，足够支撑平台初期的中英双语内容翻译需求。

## 申请步骤

### 第一步：注册百度账号

1. 访问 https://fanyi-api.baidu.com/
2. 点击右上角"登录"，使用百度账号登录
3. 如无百度账号，需先注册

### 第二步：开通翻译服务

1. 登录后点击"管理控制台"
2. 选择"翻译API"
3. 点击"开通服务"
4. 选择**"标准版"**（免费，5万字符/月）
   - 注意：不要选择高级版或尊享版（付费）

### 第三步：创建应用

1. 点击"创建应用"
2. 填写应用信息：
   - **应用名称**：MDLooker Medical Device Platform
   - **应用类别**：医疗/健康
   - **应用描述**：医疗器械合规数据平台，用于专业术语中英翻译
3. 勾选需要的翻译服务：
   - ✅ 通用翻译API
   - ✅ 词典API（可选，用于术语查询）
4. 点击"提交"

### 第四步：获取密钥

创建成功后，系统会生成：
- **APP ID**：应用标识
- **密钥（Secret Key）**：用于签名验证

**重要**：请妥善保存这两个值，只显示一次！

## 配置到项目

### 1. 本地开发环境

在项目根目录创建 `.env.local` 文件：

```bash
# 百度翻译（标准版，免费5万字符/月）
BAIDU_TRANSLATE_APP_ID=你的APP_ID
BAIDU_TRANSLATE_SECRET_KEY=你的密钥
```

### 2. Vercel生产环境

1. 登录 Vercel Dashboard
2. 进入项目设置
3. 选择 "Environment Variables"
4. 添加以下变量：
   - `BAIDU_TRANSLATE_APP_ID` = 你的APP_ID
   - `BAIDU_TRANSLATE_SECRET_KEY` = 你的密钥

### 3. Supabase Edge Functions（如使用）

在 Supabase Dashboard 的 Secrets 中添加相同的环境变量。

## 验证配置

配置完成后，可以运行测试命令验证：

```bash
npx ts-node scripts/test-baidu-translate.ts
```

或直接在平台中尝试翻译功能。

## 免费额度说明

| 版本 | 免费额度 | 超出费用 | 适用阶段 |
|------|----------|----------|----------|
| **标准版** | 5万字符/月 | ¥50/百万字符 | 初期（推荐） |
| 高级版 | 无 | ¥50/百万字符 | 高流量期 |
| 尊享版 | 无 | 需询价 | 企业级 |

**计算示例**：
- 平台初期每月约需翻译 2-3 万字符
- 5万字符免费额度足够使用
- 即使超出，费用也很低（¥50/百万字符 = ¥0.05/千字符）

## 使用限制

1. **QPS限制**：标准版 1 QPS（每秒1次请求）
   - 建议批量翻译，减少请求次数
   
2. **单次请求长度**：最长 6000 字节（约2000个中文字符）
   - 长文本需分段翻译

3. **术语库**：标准版不支持自定义术语库
   - 可使用代码层面的术语映射表替代

## 常见问题

### Q: 免费额度用完怎么办？
A: 当月超出后，API会返回错误。可选择：
- 等待下月重置
- 升级到高级版（按需付费）
- 实现降级方案（不翻译直接显示原文）

### Q: 翻译质量如何？
A: 百度翻译对通用内容效果较好，医疗器械专业术语建议：
- 建立术语对照表做后处理
- 关键术语人工校对
- 使用 `ai-providers.ts` 中的 `translateTerms` 方法批量翻译

### Q: 可以申请多个账号吗？
A: 不建议。百度有反作弊机制，多账号可能导致封禁。如额度不够，建议升级付费版。

## 技术支持

- 百度翻译API文档：https://fanyi-api.baidu.com/doc/21
- 常见问题：https://fanyi-api.baidu.com/doc/28
- 技术支持邮箱：translate_api@baidu.com

## 下一步

配置完成后，平台的以下功能将启用：

1. ✅ 法规标题自动翻译
2. ✅ 企业描述双语展示
3. ✅ 搜索关键词中英匹配
4. ✅ 术语自动翻译提示

---

**申请预计耗时**：5-10分钟
**费用**：¥0（使用免费标准版）
